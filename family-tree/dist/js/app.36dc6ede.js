(function(e){function t(t){for(var a,i,o=t[0],l=t[1],c=t[2],h=0,u=[];h<o.length;h++)i=o[h],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);p&&p(t);while(u.length)u.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},s=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var p=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},"0c1d":function(e,t,n){},1443:function(e,t,n){},"17a4":function(e,t,n){"use strict";var a=n("1c85"),r=n.n(a);r.a},"1c29":function(e,t,n){"use strict";var a=n("8dac"),r=n.n(a);r.a},"1c85":function(e,t,n){},"33eb":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("c975"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"header"},[n("button",{staticClass:"header-button tree",class:{active:"tree"==e.currentApp},on:{click:function(t){e.currentApp="tree"}}},[n("IconTree")],1),n("button",{staticClass:"header-button table",class:{active:"table"==e.currentApp},on:{click:function(t){e.currentApp="table"}}},[n("IconTable")],1),n("button",{staticClass:"header-button connect",class:{active:"connect"==e.currentApp},on:{click:function(t){e.currentApp="connect"}}},[n("IconConnect")],1)]),e.initialized?["tree"==e.currentApp?n("FamilyTree",{staticClass:"family-tree",attrs:{people:e.people}}):e._e(),"table"==e.currentApp?n("FamilyTable",{staticClass:"family-table",attrs:{people:e.allData}}):e._e(),"connect"==e.currentApp?n("RelationConnect",{staticClass:"family-connect",attrs:{people:e.people,allPeople:e.allData}}):e._e()]:e._e()],2)},s=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"family-table"},[n("SortedTable",{attrs:{values:e.people,ascIcon:"<span> ▲</span>",descIcon:"<span> ▼</span>"},scopedSlots:e._u([{key:"body",fn:function(t){return n("tbody",{},e._l(t.values,(function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.id))]),n("td",[e._v(e._s(t.firstName))]),n("td",[e._v(e._s(t.lastName))]),n("td",[e._v(e._s(t.birthDate))]),n("td",[e._v(e._s(t.birthMonth))]),n("td",[e._v(e._s(t.birthYear))])])})),0)}}])},[n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[n("SortLink",{attrs:{name:"id"}},[e._v("ID")])],1),n("th",{attrs:{scope:"col"}},[n("SortLink",{attrs:{name:"firstName"}},[e._v("First Name")])],1),n("th",{attrs:{scope:"col"}},[n("SortLink",{attrs:{name:"lastName"}},[e._v("Last Name")])],1),n("th",{attrs:{scope:"col"}},[n("SortLink",{attrs:{name:"birthDate"}},[e._v("Day")])],1),n("th",{attrs:{scope:"col"}},[n("SortLink",{attrs:{name:"birthMonth"}},[e._v("Month")])],1),n("th",{attrs:{scope:"col"}},[n("SortLink",{attrs:{name:"birthYear"}},[e._v("Year")])],1)])])])],1)},o=[],l=n("9871"),c={name:"FamilyTable",components:{SortedTable:l["SortedTable"],SortLink:l["SortLink"]},props:{people:Array}},p=c,h=(n("17a4"),n("2877")),u=Object(h["a"])(p,i,o,!1,null,"6de5e708",null),d=u.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"family-tree"},e._l(e.family,(function(t,a){return n("Relation",{key:a,attrs:{people:t.people,children:t.children,expanded:e.expanded}})})),1)},v=[],m=(n("4de4"),n("b64b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relation"},[n("div",{staticClass:"family"},e._l(e.people,(function(e,t){return n("Person",{key:t,attrs:{personInfo:e}})})),1),e.children?[n("div",{staticClass:"expand-children",class:{expanded:e.expanded||e.showChildren},on:{click:function(t){e.showChildren=!e.showChildren}}}),n("CollapseTransition",[e.expanded||e.showChildren?n("div",{staticClass:"all-children"},e._l(e.children,(function(t,a){return n("Relation",{key:a,attrs:{people:t.people,children:t.children,expanded:e.expanded}})})),1):e._e()])]:e._e()],2)}),b=[],g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"person",class:e.gender},[n("div",{staticClass:"person-image"},[n("img",{attrs:{src:e.image}})]),n("div",{staticClass:"person-name"},[n("div",[e._v(e._s(e.personInfo.firstName))]),n("div",[e._v(e._s(e.personInfo.lastName))])]),n("div",{staticClass:"person-details"},[e.personInfo.birthDate?n("div",{staticClass:"person-bday person-detail"},[e._v(e._s(e.birthday))]):e._e(),e.personInfo.description?n("div",{staticClass:"person-description person-detail"},[e._v(e._s(e.personInfo.description))]):e._e()])])},_=[],y=(n("99af"),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),x="https://drive.google.com/uc?id=1BwYrNPG9--Ap_khMAL_eoQ0YtluSuhHW",C={name:"Person",props:{personInfo:Object},computed:{birthday:function(){return"".concat(this.personInfo.birthDate," ").concat(y[this.personInfo.birthMonth-1],", ").concat(this.personInfo.birthYear)},shortName:function(){return this.personInfo.nickname?this.personInfo.nickname:this.personInfo.firstName},name:function(){return"".concat(this.personInfo.firstName," ").concat(this.personInfo.lastName)},image:function(){return this.personInfo.image?this.personInfo.image:x},gender:function(){return this.personInfo.gender?this.personInfo.gender.toLowerCase():""}}},w=C,O=(n("8761"),Object(h["a"])(w,g,_,!1,null,"470c0b56",null)),P=O.exports,I=n("7c76"),S={name:"Relation",components:{Person:P,CollapseTransition:I["a"]},props:{people:Array,children:Array,expanded:{type:Boolean,default:!1}},data:function(){return{showChildren:!0}}},k=S,T=(n("ac7f"),Object(h["a"])(k,m,b,!1,null,"02cb0c11",null)),j=T.exports,A={name:"FamilyTree",components:{Relation:j},props:{people:Object,expanded:{type:Boolean,default:!1}},data:function(){return{family:[],relations:[],relationMap:{},pendingParents:{}}},mounted:function(){this.parseRelations()},methods:{parseRelations:function(){var e=[],t={};for(var n in this.people){var a=this.people[n];if(t[n]=a,a.spouse&&t[a.spouse]){var r=this.relationMap[a.spouse];this.relations[r].people.push(a),this.relationMap[a.id]=r}else this.relationMap[a.id]=this.relations.length,this.relations.push({people:[a]});var s=this.relationMap[a.id],i=this.relations[s];if(a.father&&this.people[a.father]||a.mother&&this.people[a.mother])if(t[a.father]){var o=this.relationMap[a.father];this.relations[o].children=this.relations[o].children||[],this.relations[o].children.push(i)}else if(t[a.mother]){var l=this.relationMap[a.mother];this.relations[l].children=this.relations[l].children||[],this.relations[l].children.push(i)}else a.father&&(this.pendingParents[a.father]=this.pendingParents[a.father]||[],this.pendingParents[a.father].push(a.id)),a.mother&&(this.pendingParents[a.mother]=this.pendingParents[a.mother]||[],this.pendingParents[a.mother].push(a.id));else-1==e.indexOf(i)&&e.push(i);if(Object.keys(this.pendingParents).indexOf(""+a.id)>-1){i.children=i.children||[];for(var c=this.pendingParents[a.id],p=0;p<c.length;p++){var h=this.relationMap[c[p]];-1==i.children.indexOf(this.relations[h])&&i.children.push(this.relations[h])}delete this.pendingParents[a.id]}}this.family=e.filter((function(e){return!e.people.filter((function(e){return e.father&&t[e.father]||e.mother&&t[e.mother]})).length}))}}},M=A,N=(n("ed28"),Object(h["a"])(M,f,v,!1,null,null,null)),R=N.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relation-connect"},[n("div",{staticClass:"select-options"},[n("SelectBox",{attrs:{label:"Person 1",placeholder:"Enter name",options:e.peopleOptions,displayField:"fullName"},on:{valuechange:e.savePerson1}}),n("SelectBox",{attrs:{label:"Person 2",placeholder:"Enter name",options:e.peopleOptions,displayField:"fullName"},on:{valuechange:e.savePerson2}}),n("button",{staticClass:"relate-btn",attrs:{disabled:!e.person1||!e.person2},on:{click:e.relate}},[e._v("Relate!")])],1),n("div",{staticClass:"show-results"},[e.relatedPeople?n("FamilyTree",{staticClass:"related-tree",attrs:{people:e.relatedPeople,expanded:!0}}):n("div",{staticClass:"no-relation"},[e._v("⚠️ No Relation Found!")])],1)])},F=[],B=(n("d81d"),n("ac1f"),n("1276"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"select-group"},[e.label?n("label",{staticClass:"label"},[e._v(e._s(e.label))]):e._e(),n("div",{staticClass:"select"},[n("VSelect",{attrs:{value:e.value,placeholder:e.placeholder,clearSearchOnSelect:!0,searchable:!0,options:e.options,disabled:e.disabled,label:e.displayField},on:{input:e.updateValue},model:{value:e.selectedOption,callback:function(t){e.selectedOption=t},expression:"selectedOption"}})],1)])}),z=[],E={name:"SelectBox",props:{label:{type:String},placeholder:{type:String},value:{type:String},options:{type:Array},disabled:{type:Boolean,default:!1},displayField:{type:String}},data:function(){return{selectedOption:null}},methods:{updateValue:function(e){this.$emit("valuechange",e)}}},V=E,$=(n("1c29"),Object(h["a"])(V,B,z,!1,null,null,null)),L=$.exports,q={name:"RelationConnect",components:{SelectBox:L,FamilyTree:R},props:{people:Object,allPeople:Array},data:function(){return{person1:null,person2:null,relatedPeople:null}},computed:{peopleOptions:function(){return this.allPeople.map((function(e){return{id:e.id,fullName:"".concat(e.firstName," ").concat(e.lastName)}})).sort((function(e,t){return e.fullName.localeCompare(t.fullName)}))}},methods:{savePerson1:function(e){this.relatedPeople=null,this.person1=e},savePerson2:function(e){this.relatedPeople=null,this.person2=e},relate:function(){this.relatedPeople=null;var e=this.people[this.person1.id],t=this.people[this.person2.id],n=this.checkBasicRelation(e,t);n||(n=this.checkDeeperRelation(e,t)),this.relatedPeople=n,console.log(n)},checkBasicRelation:function(e,t){return e.id==t.id?this.personIDsToObject([e.id]):e.id==t.father?this.personIDsToObject([e.id,t.id]):e.id==t.mother?this.personIDsToObject([e.id,t.id]):e.father==t.id||e.mother==t.id?this.personIDsToObject([e.id,t.id]):""},checkDeeperRelation:function(e,t){for(var n=this.getAllRelatives(e),a=this.getAllRelatives(t),r=0;r<a.relatives.length;r++){var s=a.relatives[r],i=n.relatives.indexOf(s);if(i>-1){var o=a.paths[r].split(",").concat(n.paths[i].split(","));return this.personIDsToObject(o)}}return null},getAllRelatives:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=n||"".concat(e.id);if(e.spouse&&-1==t.indexOf(e.spouse)){var s="".concat(r,",").concat(e.spouse);t.pushUnique(e.spouse)&&a.pushUnique(s),this.getAllRelatives(this.people[e.spouse],t,s,a)}if(e.father){var i="".concat(r,",").concat(e.father);t.pushUnique(e.father)&&a.pushUnique(i),this.getAllRelatives(this.people[e.father],t,i,a)}if(e.mother){var o="".concat(r,",").concat(e.mother);t.pushUnique(e.mother)&&a.pushUnique(o),this.getAllRelatives(this.people[e.mother],t,o,a)}return{relatives:t,paths:a}},personIDsToObject:function(e){for(var t={},n=0;n<e.length;n++){var a=e[n],r=this.people[a];t[a]=r,r.spouse&&(t[r.spouse]=this.people[r.spouse])}return t}}},H=q,U=(n("6ebe"),Object(h["a"])(H,D,F,!1,null,null,null)),Y=U.exports,J=n("bc3a"),G=n.n(J),Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[n("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),n("path",{attrs:{d:"M10 10.02h5V21h-5zM17 21h3c1.1 0 2-.9 2-2v-9h-5v11zm3-18H5c-1.1 0-2 .9-2 2v3h19V5c0-1.1-.9-2-2-2zM3 19c0 1.1.9 2 2 2h3V10H3v9z",fill:"white"}})])},W=[],K={name:"IconTable",props:{path:String}},X=K,Z=Object(h["a"])(X,Q,W,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z",fill:"white"}})])},ne=[],ae={name:"IconTree",props:{path:String}},re=ae,se=Object(h["a"])(re,te,ne,!1,null,null,null),ie=se.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000","enable-background":"new 0 0 1000 1000","xml:space":"preserve",height:"24",width:"24"}},[n("g",[n("g",{attrs:{transform:"translate(0.000000,511.000000) scale(0.100000,-0.100000)"}},[n("path",{attrs:{d:"M7449.1,4984.5c-215.8-35.5-428.7-112.3-688.8-245.4c-204-106.4-310.4-195.1-792.3-671.1c-307.5-301.6-570.6-570.6-588.3-603.1c-44.3-82.8-35.5-239.5,20.7-322.2c65-103.5,215.8-150.8,328.2-109.4c47.3,17.7,331.1,274.9,632.6,570.6c573.6,564.7,700.7,656.3,1037.7,745c209.9,56.2,561.7,56.2,780.5,0c257.2-68,449.4-183.3,668.1-399.1c328.2-325.2,458.2-674,434.6-1153c-17.7-289.7-88.7-517.4-239.5-745c-59.1-85.7-742.1-789.3-1519.6-1563.9C6183.8-845.5,6098.1-925.3,5888.2-1028.8c-520.3-251.3-1141.2-198.1-1552.1,130.1c-239.5,192.2-319.3,236.5-422.8,236.5c-147.8,0-272-136-272-292.7c0-103.5,20.7-144.9,121.2-254.3c165.6-177.4,490.8-375.5,780.5-476c307.5-103.5,836.6-133,1147.1-59.1c266.1,62.1,585.4,212.9,804.1,381.4c97.6,73.9,810.1,771.6,1581.7,1549.2c999.2,1005.2,1433.8,1463.4,1504.8,1581.7c517.4,886.9,399.1,1909.8-304.5,2613.4C8788.4,4869.2,8102.5,5093.9,7449.1,4984.5z",fill:"white"}}),n("path",{attrs:{d:"M4303.6,1954.2c-242.4-53.2-576.5-212.9-795.3-378.4c-97.6-73.9-816-777.5-1599.4-1563.9C563.7-1342.2,481-1427.9,368.6-1652.6C70-2235,22.7-2781.9,214.9-3364.3C410-3946.7,951-4487.8,1542.3-4682.9c594.2-198.1,1226.9-124.2,1797.5,209.9c162.6,97.6,1218,1099.8,1283.1,1221c44.3,82.8,35.5,239.5-20.7,322.2c-65,103.5-215.8,150.8-328.2,109.4c-47.3-17.7-331.1-274.9-632.7-570.6c-573.5-564.7-700.7-656.3-1037.7-745c-209.9-56.2-561.7-56.2-780.5,0c-257.2,68-449.4,183.3-668.1,399.1c-328.2,325.2-458.2,674.1-434.6,1153c17.7,292.7,88.7,517.4,239.5,745c59.1,85.7,742.1,789.4,1519.6,1563.9c1339.2,1336.3,1425,1413.1,1634.9,1516.6c520.3,251.3,1141.2,198.1,1552.1-130.1c277.9-221.7,316.3-239.5,443.5-224.7c251.3,29.6,337,301.6,159.7,502.6c-206.9,236.5-591.3,455.3-963.8,552.9C5039.7,2007.4,4581.5,2016.3,4303.6,1954.2z",fill:"white"}})])])])},le=[],ce={name:"IconTree",props:{path:String}},pe=ce,he=Object(h["a"])(pe,oe,le,!1,null,null,null),ue=he.exports,de={name:"App",components:{FamilyTable:d,FamilyTree:R,RelationConnect:Y,IconTable:ee,IconTree:ie,IconConnect:ue},data:function(){return{allData:[],people:{},currentApp:"table",initialized:!1}},mounted:function(){var e=this;G.a.get("https://v2-api.sheety.co/6969442d9e95310b90a6eb3a9ca14fa3/familyTree/person").then((function(t){e.allData=t.data.person,e.parsePeople(e.allData),e.initialized=!0}))},methods:{parsePeople:function(e){for(var t={},n=0;n<e.length;n++){var a=e[n];t[a.id]=a}this.people=t}}},fe=de,ve=(n("034f"),Object(h["a"])(fe,r,s,!1,null,null,null)),me=ve.exports,be=n("39e2"),ge=n.n(be);a["a"].config.productionTip=!1,a["a"].component("VSelect",ge.a),Array.prototype.pushUnique=function(e){return-1==this.indexOf(e)&&(this.push(e),!0)},new a["a"]({render:function(e){return e(me)}}).$mount("#app")},"6ebe":function(e,t,n){"use strict";var a=n("1443"),r=n.n(a);r.a},"85ec":function(e,t,n){},8761:function(e,t,n){"use strict";var a=n("fac9"),r=n.n(a);r.a},"8dac":function(e,t,n){},ac7f:function(e,t,n){"use strict";var a=n("33eb"),r=n.n(a);r.a},ed28:function(e,t,n){"use strict";var a=n("0c1d"),r=n.n(a);r.a},fac9:function(e,t,n){}});
//# sourceMappingURL=app.36dc6ede.js.map